<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mapa Conceitual - Estudo dos Movimentos</title>
  <style>
    :root {
      --primary: #1e3a8a;
      --primary-light: #3b82f6;
      --bg: #0f172a;
      --card-bg: #1e293b;
      --text: #ffffff;
      --muted: #cbd5e1;
      --shadow: rgba(0, 0, 0, 0.3);
      --shadow-hover: rgba(0, 0, 0, 0.5);
      --success: #10b981;
      --warning: #f59e0b;
      --error: #ef4444;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      line-height: 1.5;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    header {
      text-align: center;
      margin-bottom: 30px;
    }

    h1 {
      font-size: 2.2rem;
      margin-bottom: 8px;
      color: white;
      font-weight: bold;
    }

    .subtitle {
      color: var(--muted);
      font-size: 1.1rem;
    }

    /* Formul√°rio do Aluno */
    .student-form {
      background: var(--card-bg);
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 32px;
      box-shadow: 0 8px 24px var(--shadow);
      border: 1px solid rgba(37, 99, 235, 0.1);
      position: relative;
      overflow: hidden;
    }

    .student-form::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--primary-light));
    }

    .student-form h2 {
      margin-top: 0;
      color: white;
      font-size: 1.5rem;
      margin-bottom: 20px;
      font-weight: bold;
    }

    .form-group {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 15px;
    }

    .form-field {
      flex: 1;
      min-width: 200px;
    }

    .form-field label {
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
      color: var(--muted);
      font-size: 0.9rem;
    }

    /* Ajustes de largura para os campos espec√≠ficos */
    .form-field:nth-child(1) { /* Nome */
      flex: 3;
      min-width: 300px;
    }
    
    .form-field:nth-child(2) { /* S√©rie */
      flex: 1;
      min-width: 120px;
    }
    
    .form-field:nth-child(3) { /* N¬∫ */
      flex: 0.5;
      min-width: 80px;
    }
    
    .form-field:nth-child(4) { /* E-mail */
      flex: 2;
      min-width: 250px;
    }

    .form-field select, .form-field input {
      width: 100%;
      padding: 12px 14px;
      border: 1px solid #334155;
      border-radius: 8px;
      background-color: #1e293b;
      color: white;
      font-size: 1rem;
      transition: all 0.2s ease;
    }

    /* Estiliza√ß√£o do dropdown com cores alternadas */
    .form-field select option:nth-child(odd) {
      background-color: white;
      color: #0f172a;
    }
    
    .form-field select option:nth-child(even) {
      background-color: #1e3a8a;
      color: white;
    }

    .form-field select:focus, .form-field input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
      background-color: #1e293b;
    }

    .form-field input[readonly] {
      background-color: #334155;
      color: #cbd5e1;
      cursor: not-allowed;
    }

    /* Grid de Cards */
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 24px;
      margin-bottom: 40px;
    }

    .card {
      background: var(--card-bg);
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4), 
                  0 6px 10px rgba(0, 0, 0, 0.3),
                  inset 0 -2px 5px rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
      cursor: pointer;
      border: 1px solid rgba(37, 99, 235, 0.1);
      position: relative;
      overflow: hidden;
      transform: translateY(0);
    }

    .card::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--primary-light));
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    .card:hover {
      transform: translateY(-8px);
      box-shadow: 0 14px 40px var(--shadow-hover), 
                  0 8px 15px rgba(0, 0, 0, 0.4),
                  inset 0 -2px 5px rgba(255, 255, 255, 0.1);
    }

    .card:active {
      transform: translateY(2px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4), 
                  0 2px 5px rgba(0, 0, 0, 0.3),
                  inset 0 -2px 5px rgba(255, 255, 255, 0.1);
      transition: all 0.1s ease;
    }

    .card:hover::after {
      transform: scaleX(1);
    }

    .card-header {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
    }

    .card-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, #1e3a8a, #3b82f6);
      margin-right: 16px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    .card-title {
      font-weight: 700;
      color: white;
      font-size: 1.3rem;
    }

    .card-subtitle {
      color: var(--muted);
      font-size: 0.95rem;
    }

    .card-content {
      color: var(--muted);
      margin-bottom: 16px;
    }

    .card-content ul {
      padding-left: 20px;
    }

    .card-content li {
      margin-bottom: 8px;
    }

    .card-content strong {
      color: white;
      font-weight: bold;
    }

    .card-images {
      display: flex;
      gap: 10px;
      margin-top: 12px;
    }

    .card-image {
      flex: 1;
      background: #334155;
      border-radius: 10px;
      padding: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .card-image img {
      max-width: 100%;
      max-height: 90px;
      border-radius: 6px;
      transition: transform 0.3s ease;
    }

    .card-image:hover img {
      transform: scale(1.05);
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      overflow-y: auto;
    }

    .modal-content {
      background-color: var(--card-bg);
      margin: 40px auto;
      padding: 30px;
      border-radius: 16px;
      width: 90%;
      max-width: 800px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
      position: relative;
      color: white;
    }

    .close-modal {
      position: absolute;
      top: 20px;
      right: 20px;
      font-size: 24px;
      cursor: pointer;
      color: var(--muted);
      transition: color 0.2s;
    }

    .close-modal:hover {
      color: white;
    }

    .modal-header {
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid #334155;
    }

    .modal-title {
      font-size: 1.8rem;
      color: white;
      margin-bottom: 8px;
      font-weight: bold;
    }

    .modal-subtitle {
      color: var(--muted);
      font-size: 1.1rem;
    }

    .modal-body {
      margin-bottom: 30px;
    }

    .content-summary {
      background-color: #334155;
      padding: 20px;
      border-radius: 12px;
      margin-bottom: 30px;
      border-left: 4px solid var(--primary);
      color: var(--muted);
    }

    .content-summary strong {
      color: white;
      font-weight: bold;
    }

    .quiz-section {
      margin-top: 30px;
    }

    .quiz-title {
      font-size: 1.3rem;
      margin-bottom: 20px;
      color: white;
      font-weight: bold;
    }

    .question {
      margin-bottom: 25px;
      padding-bottom: 20px;
      border-bottom: 1px solid #334155;
    }

    .question:last-child {
      border-bottom: none;
    }

    .question-text {
      font-weight: 600;
      margin-bottom: 15px;
      font-size: 1.1rem;
      color: white;
    }

    .options {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .option {
      display: flex;
      align-items: center;
      padding: 12px 15px;
      border: 1px solid #334155;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
      color: var(--muted);
    }

    .option:hover {
      background-color: #334155;
    }

    .option.selected {
      background-color: #1e3a8a;
      border-color: var(--primary);
      color: white;
    }

    .option input {
      margin-right: 10px;
    }

    .submit-btn {
      background: linear-gradient(90deg, var(--primary), var(--primary-light));
      color: white;
      border: none;
      padding: 14px 24px;
      border-radius: 10px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      display: block;
      margin: 30px auto 0;
    }

    .submit-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
    }

    .submit-btn:active {
      transform: translateY(0);
    }

    .score-display {
      text-align: center;
      font-size: 1.2rem;
      margin-top: 20px;
      font-weight: 600;
      color: var(--primary-light);
    }

    .footer {
      text-align: center;
      margin-top: 40px;
      color: var(--muted);
      font-size: 0.95rem;
    }

    /* Responsividade */
    @media (max-width: 768px) {
      .form-group {
        flex-direction: column;
        gap: 15px;
      }
      
      .form-field {
        min-width: 100%;
      }
      
      .cards-grid {
        grid-template-columns: 1fr;
      }
      
      .container {
        padding: 16px;
      }
      
      .modal-content {
        margin: 20px auto;
        padding: 20px;
        width: 95%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Formul√°rio de Identifica√ß√£o do Aluno -->
    <section class="student-form">
      <h2>üìù Identifica√ß√£o do Aluno</h2>
      <form id="studentForm">
        <div class="form-group">
          <div class="form-field">
            <label for="studentName">NOME:</label>
            <select id="studentName" name="studentName" required>
              <option value="">Selecione seu nome</option>
              <!-- Os nomes ser√£o preenchidos via JavaScript -->
            </select>
          </div>
          
          <div class="form-field">
            <label for="studentGrade">S√âRIE:</label>
            <input type="text" id="studentGrade" name="studentGrade" readonly>
          </div>
          
          <div class="form-field">
            <label for="studentNumber">N¬∫:</label>
            <input type="text" id="studentNumber" name="studentNumber" readonly>
          </div>
          
          <div class="form-field">
            <label for="studentEmail">E-MAIL:</label>
            <input type="email" id="studentEmail" name="studentEmail" readonly>
          </div>
        </div>
      </form>
    </section>

    <header>
      <h1>üåç Mapa Conceitual ‚Äî Estudo dos Movimentos</h1>
      <p class="subtitle">Da Hist√≥ria de Arist√≥teles √†s Leis de Newton ‚Äî vers√£o interativa e animada</p>
    </header>

    <!-- Grid de Cards -->
    <section class="cards-grid">
      <!-- Card 1: Hist√≥ria do Conceito -->
      <article class="card" id="historia">
        <div class="card-header">
          <div class="card-icon">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"/>
              <path d="M2.05 12H21.95"/>
              <path d="M12 2.05a20 20 0 0 1 0 19.9"/>
            </svg>
          </div>
          <div>
            <div class="card-title">Hist√≥ria do Conceito</div>
            <div class="card-subtitle">De Arist√≥teles a Galileu</div>
          </div>
        </div>
        <div class="card-content">
          <ul>
            <li><strong>Arist√≥teles:</strong> movimento natural e violento.</li>
            <li><strong>Ptolomeu:</strong> modelo geoc√™ntrico.</li>
            <li><strong>Buridan:</strong> teoria do √≠mpeto.</li>
            <li><strong>Galileu:</strong> m√©todo experimental e princ√≠pio da in√©rcia.</li>
          </ul>
        </div>
        <div class="card-images">
          <div class="card-image"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiCgi_a35mQYdUEoiB6nONGyo5zArlbkQ_O7pLQJrGgtxrJ0nIIZG6wL7krmCq3-zTN1cF1Ax_84Q0SeY2UFCTC8oaM9EfKT0eqVSUE3D-l1Nqii0SBhdpnwrKkuRvD6LK4cVvV7ljC6a1oiAX5eEVPKHhOieAUPO3GDVd2YhNln1NMzdad_S_N8IXGxN3G/s685/Arist%C3%B3steles.JPG" alt="Arist√≥teles"></div>
          <div class="card-image"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgs9hpgjrQILolJz075eNdqS0VmkDOXdxKT-ffMQDV5HbmjrtQPDkh4_c6yeH52yLTzMqCrACJm5pVcVROPlkLFdLKQDujQWAyrAvyBHbwe4VEoWvIw17R7fnRVg6_0SQeJIIrFQdwGEYJqL910iSRmb63mrY7yh6nv8pWGiuCwsUEnInp5WCK-RhPtqVur/s737/Galileu.JPG" alt="Galileu"></div>
        </div>
      </article>

      <!-- Card 2: Cinem√°tica -->
      <article class="card" id="cinematica">
        <div class="card-header">
          <div class="card-icon">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
              <ellipse cx="12" cy="12" rx="9" ry="4"/><path d="M12 2v20"/>
            </svg>
          </div>
          <div>
            <div class="card-title">Cinem√°tica</div>
            <div class="card-subtitle">Trajet√≥ria, posi√ß√£o e referencial</div>
          </div>
        </div>
        <div class="card-content">
          <p>Estuda o movimento sem considerar suas causas.</p>
          <ul>
            <li>Referencial e posi√ß√£o</li>
            <li>Trajet√≥ria</li>
            <li>Ponto material e corpo extenso</li>
          </ul>
        </div>
        <div class="card-images">
          <div class="card-image"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh6kRjWov2r6IfeJHduPu_lIKiYlDHgvyElnXiqbFLFc3WEGJIpzPVv71QGc1PavoO_pVNXeaK6or7RacLCJGAfTpyoFMksapVIHAajT2WBM3_oqIeRvSviQnASOYEfcAvpR8x0NTTxc-9ALlutG9eHD9peF3WxUrWFCHqb3xh0j8nLCJlSobPX0CzHkDUS/s490/Cinem%C3%A1tica.JPG" alt="Trajet√≥ria exemplo"></div>
          <div class="card-image"><img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiMXMOuHTtKlsFeYxQWZxa7NWnkm4gcObzPMP-GersxFbxsoZXRHUSvGrVYlEdEOsjUMhw1FdjmERDMA9VOcrPQhtWnkzOTMD7u2GDrPhWmRapkuLh3GPJi8b7Kqs1XqquvqQQCZJB1dMXBuWR2Vo3-BBWqF7JHKe9BeEwyEPTUxcAQVkdeYFlNY06gnyWg/s400/MHS001.gif" alt="Movimento harm√¥nico"></div>
        </div>
      </article>

      <!-- Card 3: Dist√¢ncia e Deslocamento -->
      <article class="card" id="dist-desloc">
        <div class="card-header">
          <div class="card-icon">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
              <path d="M2 12l10 10 8-8L10 2 2 12z"/>
            </svg>
          </div>
          <div>
            <div class="card-title">Dist√¢ncia & Deslocamento</div>
            <div class="card-subtitle">Espa√ßo percorrido vs varia√ß√£o de posi√ß√£o</div>
          </div>
        </div>
        <div class="card-content">
          <p>
            Dist√¢ncia: caminho total.  
            Deslocamento: diferen√ßa entre posi√ß√£o final e inicial <span class="math">ŒîS = Sf - S0</span>.
          </p>
        </div>
        <div class="card-images">
          <div class="card-image"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7a/Displacement_vector.svg/240px-Displacement_vector.svg.png" alt="Vetor deslocamento"></div>
        </div>
      </article>

      <!-- Card 4: Velocidade -->
      <article class="card" id="velocidade">
        <div class="card-header">
          <div class="card-icon">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
              <path d="M22 12A10 10 0 0 0 2 12"/><path d="M6.5 13a6 6 0 0 0 11 0"/><path d="M12 8v5l3 1"/>
            </svg>
          </div>
          <div>
            <div class="card-title">Velocidade</div>
            <div class="card-subtitle">v = ŒîS / Œît (m/s, km/h)</div>
          </div>
        </div>
        <div class="card-content">
          <p>Velocidade m√©dia: raz√£o entre deslocamento e tempo.</p>
          <p>Velocidade instant√¢nea: velocidade em um momento espec√≠fico.</p>
        </div>
        <div class="card-images">
          <div class="card-image"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/Velocity_vs_time_graph.svg/240px-Velocity_vs_time_graph.svg.png" alt="Gr√°fico velocidade x tempo"></div>
        </div>
      </article>

      <!-- Card 5: Acelera√ß√£o -->
      <article class="card" id="aceleracao">
        <div class="card-header">
          <div class="card-icon">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
              <path d="M2 22s4-4 6-4 6 4 10 0c0 0-1-4 3-8s4-1 4-1-3 6-10 9C10 20 8 22 2 22z"/>
            </svg>
          </div>
          <div>
            <div class="card-title">Acelera√ß√£o & For√ßas</div>
            <div class="card-subtitle">a = ŒîV / Œît ‚Äî F = m¬∑a</div>
          </div>
        </div>
        <div class="card-content">
          <p>Rela√ß√£o entre for√ßa resultante, massa e acelera√ß√£o.</p>
          <p>Acelera√ß√£o √© a varia√ß√£o da velocidade com o tempo.</p>
        </div>
        <div class="card-images">
          <div class="card-image"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Free_body_diagram2.svg/240px-Free_body_diagram2.svg.png" alt="Diagrama de for√ßas"></div>
        </div>
      </article>

      <!-- Card 6: Leis de Newton -->
      <article class="card" id="newton">
        <div class="card-header">
          <div class="card-icon">
            <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/>
            </svg>
          </div>
          <div>
            <div class="card-title">Leis de Newton</div>
            <div class="card-subtitle">In√©rcia ‚Ä¢ F = m¬∑a ‚Ä¢ A√ß√£o e Rea√ß√£o</div>
          </div>
        </div>
        <div class="card-content">
          <ul>
            <li><strong>1¬™:</strong> In√©rcia ‚Äî repouso ou movimento constante.</li>
            <li><strong>2¬™:</strong> F = m¬∑a (unidade: N).</li>
            <li><strong>3¬™:</strong> A√ß√£o e rea√ß√£o s√£o opostas e simult√¢neas.</li>
          </ul>
        </div>
        <div class="card-images">
          <div class="card-image"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/68/NewtonsLawOfUniversalGravitation.svg/240px-NewtonsLawOfUniversalGravitation.svg.png" alt="Lei da Gravita√ß√£o"></div>
          <div class="card-image"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/GodfreyKneller-IsaacNewton-1689.jpg/240px-GodfreyKneller-IsaacNewton-1689.jpg" alt="Isaac Newton"></div>
        </div>
      </article>
    </section>

    <footer class="footer">
      <p>Vers√£o interativa. Aplica√ß√µes: GPS ‚Ä¢ Esportes ‚Ä¢ Transporte ‚Ä¢ Tecnologia</p>
    </footer>
  </div>

  <!-- Modal para exibir conte√∫do e quest√µes -->
  <div id="contentModal" class="modal">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <div class="modal-header">
        <h2 id="modalTitle" class="modal-title">T√≠tulo</h2>
        <p id="modalSubtitle" class="modal-subtitle">Subt√≠tulo</p>
      </div>
      <div class="modal-body">
        <div id="contentSummary" class="content-summary">
          <!-- Conte√∫do resumido ser√° inserido aqui -->
        </div>
        
        <div class="quiz-section">
          <h3 class="quiz-title">Quest√µes sobre o tema (10 pontos)</h3>
          <form id="quizForm">
            <div id="questionsContainer">
              <!-- As quest√µes ser√£o inseridas aqui -->
            </div>
            <button type="submit" class="submit-btn">Enviar Respostas</button>
          </form>
          <div id="scoreDisplay" class="score-display"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- JavaScript permanece exatamente igual -->
  <script>
    // Dados dos alunos
    const students = [
      // 9¬∫A
      { name: "√ÅGATHA NIKOLLE DA SILVA RAMOS", number: "1", grade: "9¬∫A", email: "00001153810360SP@al.educacao.sp.gov.br" },
      { name: "AMANDA BEATRIZ LEAL MOURAD", number: "2", grade: "9¬∫A", email: "00001141420077SP@al.educacao.sp.gov.br" },
      // ... (restante do c√≥digo JavaScript permanece igual)
    ];

    // Conte√∫do e quest√µes para cada card
    const cardContent = {
      // ... (conte√∫do permanece igual)
    };

    // Elementos do DOM
    const modal = document.getElementById('contentModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalSubtitle = document.getElementById('modalSubtitle');
    const contentSummary = document.getElementById('contentSummary');
    const questionsContainer = document.getElementById('questionsContainer');
    const quizForm = document.getElementById('quizForm');
    const scoreDisplay = document.getElementById('scoreDisplay');
    const closeModal = document.querySelector('.close-modal');
    const studentNameSelect = document.getElementById('studentName');
    const studentNumberInput = document.getElementById('studentNumber');
    const studentGradeInput = document.getElementById('studentGrade');
    const studentEmailInput = document.getElementById('studentEmail');

    // ID da planilha do Google Sheets
    const SPREADSHEET_ID = '11hMwiMdyiXkDENceYawPjjVxqTHc0iyMUwcbuob6KNg';

    // URL do Web App do Google Apps Script (substitua pela sua URL)
    const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycby.../exec';

    // Vari√°vel para armazenar o card atual
    let currentCardId = '';

    // Inicializa√ß√£o
    document.addEventListener('DOMContentLoaded', function() {
      populateStudentDropdown();
      setupCardListeners();
      setupModalListeners();
      setupFormListener();
    });

    // Preencher dropdown com nomes dos alunos
    function populateStudentDropdown() {
      // Ordenar alunos por nome
      students.sort((a, b) => a.name.localeCompare(b.name));
      
      // Adicionar op√ß√µes ao dropdown
      students.forEach(student => {
        const option = document.createElement('option');
        option.value = student.name;
        option.textContent = student.name;
        studentNameSelect.appendChild(option);
      });
      
      // Adicionar event listener para preencher campos quando um aluno for selecionado
      studentNameSelect.addEventListener('change', fillStudentFields);
    }

    // Preencher campos do aluno quando selecionado
    function fillStudentFields() {
      const selectedName = studentNameSelect.value;
      const student = students.find(s => s.name === selectedName);
      
      if (student) {
        studentNumberInput.value = student.number;
        studentGradeInput.value = student.grade;
        studentEmailInput.value = student.email;
      } else {
        // Limpar campos se nenhum aluno for selecionado
        studentNumberInput.value = '';
        studentGradeInput.value = '';
        studentEmailInput.value = '';
      }
    }

    // Configurar listeners para os cards
    function setupCardListeners() {
      const cards = document.querySelectorAll('.card');
      cards.forEach(card => {
        card.addEventListener('click', function() {
          openModal(this.id);
        });
      });
    }

    // Configurar listeners para o modal
    function setupModalListeners() {
      // Fechar modal ao clicar no X
      closeModal.addEventListener('click', function() {
        modal.style.display = 'none';
      });
      
      // Fechar modal ao clicar fora do conte√∫do
      window.addEventListener('click', function(event) {
        if (event.target === modal) {
          modal.style.display = 'none';
        }
      });
    }

    // Configurar listener para o formul√°rio de quest√µes
    function setupFormListener() {
      quizForm.addEventListener('submit', function(e) {
        e.preventDefault();
        calculateScore();
      });
    }

    // Abrir modal com conte√∫do do card
    function openModal(cardId) {
      // Verificar se o aluno foi selecionado
      if (!studentNameSelect.value) {
        alert('Por favor, selecione seu nome antes de acessar o conte√∫do.');
        return;
      }
      
      currentCardId = cardId;
      const content = cardContent[cardId];
      
      if (!content) {
        console.error('Conte√∫do n√£o encontrado para o card:', cardId);
        return;
      }
      
      // Preencher informa√ß√µes do modal
      modalTitle.textContent = content.title;
      modalSubtitle.textContent = content.subtitle;
      contentSummary.innerHTML = content.summary;
      
      // Limpar quest√µes anteriores
      questionsContainer.innerHTML = '';
      
      // Adicionar quest√µes ao modal
      content.questions.forEach((question, index) => {
        const questionElement = document.createElement('div');
        questionElement.className = 'question';
        questionElement.innerHTML = `
          <p class="question-text">${index + 1}. ${question.question}</p>
          <div class="options">
            ${question.options.map((option, optIndex) => `
              <label class="option">
                <input type="radio" name="question${index}" value="${optIndex}" required>
                ${option}
              </label>
            `).join('')}
          </div>
        `;
        questionsContainer.appendChild(questionElement);
      });
      
      // Limpar display de pontua√ß√£o
      scoreDisplay.textContent = '';
      
      // Mostrar modal
      modal.style.display = 'block';
      
      // Adicionar listeners para as op√ß√µes
      document.querySelectorAll('.option').forEach(option => {
        option.addEventListener('click', function() {
          // Remover classe 'selected' de todas as op√ß√µes do mesmo grupo
          const options = this.parentElement.querySelectorAll('.option');
          options.forEach(opt => opt.classList.remove('selected'));
          
          // Adicionar classe 'selected' √† op√ß√£o clicada
          this.classList.add('selected');
        });
      });
    }

    // Calcular pontua√ß√£o
    function calculateScore() {
      const content = cardContent[currentCardId];
      let score = 0;
      let totalQuestions = content.questions.length;
      
      // Verificar respostas
      content.questions.forEach((question, index) => {
        const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
        
        if (selectedOption && parseInt(selectedOption.value) === question.correct) {
          score += 5; // Cada quest√£o vale 5 pontos
        }
      });
      
      // Exibir pontua√ß√£o
      scoreDisplay.textContent = `Pontua√ß√£o: ${score}/10`;
      scoreDisplay.style.color = score >= 7 ? 'var(--success)' : 'var(--error)';
      
      // Enviar dados para o Google Sheets
      sendDataToGoogleSheets(score);
    }

    // Enviar dados para o Google Sheets via Google Apps Script
    function sendDataToGoogleSheets(score) {
      // Obter dados do aluno
      const studentName = studentNameSelect.value;
      const studentNumber = studentNumberInput.value;
      const studentGrade = studentGradeInput.value;
      const studentEmail = studentEmailInput.value;
      const topic = cardContent[currentCardId].title;
      const timestamp = new Date().toISOString();
      
      // Dados a serem enviados
      const data = {
        name: studentName,
        number: studentNumber,
        grade: studentGrade,
        email: studentEmail,
        score: score,
        topic: topic,
        timestamp: timestamp
      };
      
      // Enviar dados via fetch para o Google Apps Script
      fetch(SCRIPT_URL, {
        method: 'POST',
        mode: 'no-cors', // Importante para evitar problemas de CORS
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data)
      })
      .then(() => {
        console.log('Dados enviados com sucesso para o Google Sheets');
      })
      .catch(error => {
        console.error('Erro ao enviar dados:', error);
        // Em caso de erro, podemos armazenar localmente e tentar enviar depois
        storeDataLocally(data);
      });
    }

    // Armazenar dados localmente em caso de falha no envio
    function storeDataLocally(data) {
      let storedData = JSON.parse(localStorage.getItem('pendingScores') || '[]');
      storedData.push(data);
      localStorage.setItem('pendingScores', JSON.stringify(storedData));
      console.log('Dados armazenados localmente para envio posterior');
    }
  </script>
</body>
</html>
